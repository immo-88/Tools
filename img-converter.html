<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Converter - ToolKit</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
:root{--primary:#4361ee;--secondary:#3a0ca3;--accent:#7209b7;--light:#f8f9fa;--dark:#212529;--success:#4cc9f0;--warning:#f72585;--gray:#6c757d;}
body{background-color:#f9fafb;color:var(--dark);line-height:1.6;min-height:100vh;padding:20px;}
.container{max-width:1000px;margin:0 auto;padding:0 15px;position:relative;}

/* Ads */
.top-ad,.bottom-ad{width:100%;margin:20px 0;text-align:center;}
.side-ad{position:fixed;top:150px;width:160px;}
.left-ad{left:0;}
.right-ad{right:0;}
.ad-placeholder{background:#f5f7ff;border:2px dashed #ccc;border-radius:10px;display:flex;justify-content:center;align-items:center;color:#888;font-size:1rem;height:600px;}
.top-ad .ad-placeholder,.bottom-ad .ad-placeholder{height:90px;}
@media(max-width:992px){.side-ad{display:none;}}

/* Header */
.tool-header{text-align:center;margin:30px 0;}
.tool-header h1{font-size:2.5rem;color:var(--primary);margin-bottom:10px;}
.tool-header p{color:var(--gray);font-size:1.1rem;max-width:600px;margin:0 auto;}

/* Tool container */
.tool-container{background:white;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.1);overflow:hidden;margin-bottom:40px;}
.upload-area{padding:40px 20px;text-align:center;border-bottom:1px solid #eee;transition:all 0.3s;}
.upload-area.drag-over{background-color:#e6f7ff;border:2px dashed var(--primary);}
.upload-icon{font-size:3.5rem;color:var(--primary);margin-bottom:20px;}
.upload-text h2{font-size:1.8rem;margin-bottom:15px;color:var(--secondary);}
.upload-text p{color:var(--gray);margin-bottom:20px;}
.upload-btn{display:inline-block;background:var(--primary);color:white;padding:12px 30px;border-radius:50px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.3s;border:none;}
.upload-btn:hover{background:var(--secondary);transform:translateY(-2px);}
.file-input{display:none;}

/* Conversion Options */
.conversion-options{padding:20px;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;border-bottom:1px solid #eee;}
.option-group{margin-bottom:20px;}
.option-group label{display:block;margin-bottom:8px;font-weight:600;color:var(--dark);}
.option-select{width:100%;padding:12px 15px;border-radius:8px;border:1px solid #ddd;font-size:1rem;background:white;}
.quality-slider{width:100%;margin-top:10px;}
.slider-container{display:flex;align-items:center;gap:15px;margin-top:10px;}
.slider-value{font-weight:700;color:var(--primary);min-width:40px;}

/* Preview Area */
.preview-area{padding:20px;display:grid;grid-template-columns:1fr;gap:20px;border-bottom:1px solid #eee;}
@media(min-width:768px){.preview-area{grid-template-columns:1fr 1fr;}}
.preview-box{text-align:center;}
.preview-box h3{margin-bottom:15px;color:var(--secondary);}
.preview-img{max-width:100%;border-radius:8px;box-shadow:0 5px 15px rgba(0,0,0,0.1);max-height:300px;object-fit:contain;}
.file-info{margin-top:10px;color:var(--gray);font-size:0.9rem;}

/* Action Buttons */
.action-buttons{padding:20px;display:flex;gap:15px;border-top:1px solid #eee;}
.action-btn{flex:1;padding:15px;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.3s;border:none;}
.convert-btn{background:var(--primary);color:white;}
.convert-btn:hover:not(:disabled){background:var(--secondary);}
.convert-btn:disabled{background:#b7c3f7;cursor:not-allowed;}
.clear-btn{background:#f8f9fa;color:var(--gray);border:1px solid #ddd;}
.clear-btn:hover{background:#e9ecef;}

/* Result Area */
.result-area{padding:20px;text-align:center;display:none;}
.result-area.visible{display:block;animation:fadeIn 0.5s;}
.success-icon{font-size:4rem;color:var(--success);margin-bottom:20px;}
.result-text h3{font-size:1.5rem;margin-bottom:10px;color:var(--secondary);}
.result-text p{color:var(--gray);margin-bottom:20px;}
.download-btn{display:inline-block;background:var(--success);color:white;padding:12px 30px;border-radius:50px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.3s;border:none;text-decoration:none;}
.download-btn:hover{background:#3aa5d3;transform:translateY(-2px);}

/* Footer */
.tool-footer{text-align:center;color:var(--gray);margin-top:40px;padding-top:20px;border-top:1px solid #eee;}

/* Animations */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* Responsive */
@media(max-width:768px){.tool-header h1{font-size:2rem;}.action-buttons{flex-direction:column;}.conversion-options{grid-template-columns:1fr;}}
@media(max-width:480px){.tool-header h1{font-size:1.8rem;}.upload-text h2{font-size:1.5rem;}.upload-icon{font-size:2.8rem;}}

/* Format Badges */
.format-badge{display:inline-block;padding:4px 10px;border-radius:20px;font-size:0.8rem;font-weight:600;margin:0 5px;}
.format-jpg{background:#ff6b6b;color:white;}
.format-png{background:#4ecdc4;color:white;}
.format-webp{background:#45b7d1;color:white;}
.format-gif{background:#f9c74f;color:white;}
.format-bmp{background:#90be6d;color:white;}
</style>
</head>
<body>

<!-- Top Banner Ad -->
<div class="top-ad">
<script type="text/javascript">
    atOptions = {'key':'e34b5ecf5c5146a6f7fe687796b561ed','format':'iframe','height':90,'width':728,'params':{}};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/e34b5ecf5c5146a6f7fe687796b561ed/invoke.js"></script>
</div>

<!-- Left Sidebar Ad -->
<div class="side-ad left-ad">
<script type="text/javascript">
    atOptions = {'key':'a63f42cee1dd5f06ac01782d8ef9bfc7','format':'iframe','height':600,'width':160,'params':{}};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/a63f42cee1dd5f06ac01782d8ef9bfc7/invoke.js"></script>
</div>

<!-- Right Sidebar Ad -->
<div class="side-ad right-ad">
<script type="text/javascript">
    atOptions = {'key':'037592c53a0ff04c897e19d8cee256a7','format':'iframe','height':600,'width':160,'params':{}};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/037592c53a0ff04c897e19d8cee256a7/invoke.js"></script>
</div>

<div class="container">
    <div class="tool-header">
        <h1><i class="fas fa-exchange-alt"></i> Image Converter</h1>
        <p>Convert your images between different formats. Support for JPG, PNG, WebP, GIF, and BMP.</p>
    </div>
    
    <div class="tool-container">
        <div class="upload-area" id="uploadArea">
            <div class="upload-icon"><i class="fas fa-file-image"></i></div>
            <div class="upload-text">
                <h2>Upload Your Image</h2>
                <p>Drag & drop your image here or click to browse</p>
                <p>
                    <span class="format-badge format-jpg">JPG</span>
                    <span class="format-badge format-png">PNG</span>
                    <span class="format-badge format-webp">WebP</span>
                    <span class="format-badge format-gif">GIF</span>
                    <span class="format-badge format-bmp">BMP</span>
                </p>
            </div>
            <button class="upload-btn" id="uploadBtn">Select Image</button>
            <input type="file" id="fileInput" class="file-input" accept="image/*">
        </div>
        
        <div class="conversion-options">
            <div class="option-group">
                <label for="outputFormat">Output Format</label>
                <select id="outputFormat" class="option-select">
                    <option value="jpeg">JPEG (.jpg)</option>
                    <option value="png">PNG (.png)</option>
                    <option value="webp">WebP (.webp)</option>
                    <option value="gif">GIF (.gif)</option>
                    <option value="bmp">BMP (.bmp)</option>
                </select>
            </div>
            <div class="option-group">
                <label for="quality">Quality <span id="qualityValue">90%</span></label>
                <input type="range" id="quality" class="quality-slider" min="10" max="100" value="90">
                <div class="slider-container"><span>Low</span><span>High</span></div>
            </div>
            <div class="option-group">
                <label for="resize">Resize (Optional)</label>
                <div style="display:flex;gap:10px;">
                    <input type="number" id="resizeWidth" class="option-select" placeholder="Width" min="1">
                    <input type="number" id="resizeHeight" class="option-select" placeholder="Height" min="1">
                </div>
                <div style="margin-top:10px;">
                    <input type="checkbox" id="maintainAspect" checked>
                    <label for="maintainAspect">Maintain aspect ratio</label>
                </div>
            </div>
        </div>
        
        <div class="preview-area">
            <div class="preview-box">
                <h3>Original Image</h3>
                <img src="https://placehold.co/600x400?text=Original+Image" alt="Original image" class="preview-img" id="originalPreview">
                <div class="file-info" id="originalInfo">Format: None | Size: 0 KB</div>
            </div>
            <div class="preview-box">
                <h3>Converted Image</h3>
                <img src="https://placehold.co/600x400?text=Converted+Image" alt="Converted image" class="preview-img" id="convertedPreview">
                <div class="file-info" id="convertedInfo">Format: None | Size: 0 KB</div>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="action-btn convert-btn" id="convertBtn" disabled><i class="fas fa-exchange-alt"></i> Convert Image</button>
            <button class="action-btn clear-btn" id="clearBtn"><i class="fas fa-trash"></i> Clear All</button>
        </div>
        
        <div class="result-area" id="resultArea">
            <div class="success-icon"><i class="fas fa-check-circle"></i></div>
            <div class="result-text">
                <h3>Image Converted Successfully!</h3>
                <p>Your image has been converted to the selected format.</p>
                <p class="file-info" id="resultFileInfo">File: converted-image.jpg (0 KB)</p>
            </div>
            <a href="#" class="download-btn" id="downloadBtn"><i class="fas fa-download"></i> Download Converted Image</a>
        </div>
    </div>
    
    <!-- Bottom Banner Ad -->
    <div class="bottom-ad">
    <script type="text/javascript">
        atOptions = {'key':'e34b5ecf5c5146a6f7fe687796b561ed','format':'iframe','height':90,'width':728,'params':{}};
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/e34b5ecf5c5146a6f7fe687796b561ed/invoke.js"></script>
    </div>
    
    <div class="tool-footer">
        <p>© 2023 ToolKit - Image Converter Tool | All rights reserved</p>
    </div>
</div>

<script>
// Entire JS from your original page (unchanged)
document.addEventListener('DOMContentLoaded', function() {
const uploadArea = document.getElementById('uploadArea');
const uploadBtn = document.getElementById('uploadBtn');
const fileInput = document.getElementById('fileInput');
const outputFormat = document.getElementById('outputFormat');
const qualitySlider = document.getElementById('quality');
const qualityValue = document.getElementById('qualityValue');
const convertBtn = document.getElementById('convertBtn');
const clearBtn = document.getElementById('clearBtn');
const originalPreview = document.getElementById('originalPreview');
const convertedPreview = document.getElementById('convertedPreview');
const originalInfo = document.getElementById('originalInfo');
const convertedInfo = document.getElementById('convertedInfo');
const resultArea = document.getElementById('resultArea');
const downloadBtn = document.getElementById('downloadBtn');
const resultFileInfo = document.getElementById('resultFileInfo');
const resizeWidth = document.getElementById('resizeWidth');
const resizeHeight = document.getElementById('resizeHeight');
const maintainAspect = document.getElementById('maintainAspect');

let originalImage = null;
let convertedImage = null;
let originalFileType = '';
let originalFileName = '';

uploadBtn.addEventListener('click',()=>fileInput.click());
fileInput.addEventListener('change',handleFileSelect);
qualitySlider.addEventListener('input',updateQualityValue);
convertBtn.addEventListener('click',convertImage);
clearBtn.addEventListener('click',clearAll);

['dragenter','dragover','dragleave','drop'].forEach(e=>{uploadArea.addEventListener(e,preventDefaults,false);});
function preventDefaults(e){e.preventDefault();e.stopPropagation();}
['dragenter','dragover'].forEach(e=>{uploadArea.addEventListener(e,highlight,false);});
['dragleave','drop'].forEach(e=>{uploadArea.addEventListener(e,unhighlight,false);});
function highlight(){uploadArea.classList.add('drag-over');}
function unhighlight(){uploadArea.classList.remove('drag-over');}
uploadArea.addEventListener('drop',handleDrop,false);

resizeWidth.addEventListener('input',function(){if(maintainAspect.checked&&originalImage){const r=originalImage.naturalHeight/originalImage.naturalWidth;resizeHeight.value=Math.round(this.value*r);}});
resizeHeight.addEventListener('input',function(){if(maintainAspect.checked&&originalImage){const r=originalImage.naturalWidth/originalImage.naturalHeight;resizeWidth.value=Math.round(this.value*r);}});

function handleDrop(e){const dt=e.dataTransfer;handleFiles(dt.files);}
function handleFileSelect(e){handleFiles(e.target.files);}
function handleFiles(files){if(files.length>0){const f=files[0];if(f.type.startsWith('image/')){const reader=new FileReader();reader.onload=function(e){originalPreview.src=e.target.result;originalImage=new Image();originalImage.src=e.target.result;originalFileType=f.type.split('/')[1];originalFileName=f.name.split('.')[0];originalInfo.textContent=`Format: ${originalFileType.toUpperCase()} | Size: ${formatFileSize(f.size)}`;convertBtn.disabled=false;originalImage.onload=function(){resizeWidth.value=originalImage.naturalWidth;resizeHeight.value=originalImage.naturalHeight;};};reader.readAsDataURL(f);}else{alert('Please select an image file.');}}}

function updateQualityValue(){qualityValue.textContent=`${qualitySlider.value}%`;}
function formatFileSize(b){if(b===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(b)/Math.log(k));return parseFloat((b/Math.pow(k,i)).toFixed(2))+' '+sizes[i];}

function convertImage(){
if(!originalImage){alert('Please upload an image first.');return;}
convertBtn.innerHTML='<i class="fas fa-spinner fa-spin"></i> Converting...';convertBtn.disabled=true;
const format=outputFormat.value;const quality=qualitySlider.value/100;
let width=originalImage.naturalWidth;height=originalImage.naturalHeight;
if(resizeWidth.value&&resizeHeight.value){width=parseInt(resizeWidth.value);height=parseInt(resizeHeight.value);}
setTimeout(()=>{
const canvas=document.createElement('canvas');canvas.width=width;canvas.height=height;const ctx=canvas.getContext('2d');ctx.drawImage(originalImage,0,0,width,height);
let convertedDataURL;
switch(format){case'jpeg':convertedDataURL=canvas.toDataURL('image/jpeg',quality);break;case'png':convertedDataURL=canvas.toDataURL('image/png');break;case'webp':convertedDataURL=canvas.toDataURL('image/webp',quality);break;case'gif':convertedDataURL=canvas.toDataURL('image/gif');break;case'bmp':convertedDataURL=canvas.toDataURL('image/bmp');break;default:convertedDataURL=canvas.toDataURL('image/jpeg',quality);}
convertedPreview.src=convertedDataURL;convertedImage=convertedDataURL;
const estimatedSize=Math.round((convertedDataURL.length*3)/4);
convertedInfo.textContent=`Format: ${format.toUpperCase()} | Size: ${formatFileSize(estimatedSize)}`;
const convertedFileName=`${originalFileName}.${format}`;
downloadBtn.href=convertedDataURL;downloadBtn.download=convertedFileName;
resultFileInfo.textContent=`File: ${convertedFileName} (${formatFileSize(estimatedSize)})`;
resultArea.classList.add('visible');convertBtn.innerHTML='<i class="fas fa-exchange-alt"></i> Convert Image';convertBtn.disabled=false;resultArea.scrollIntoView({behavior:'smooth'});
},1500);
}

function clearAll(){
originalPreview.src='https://placehold.co/600x400?text=Original+Image';
convertedPreview.src='https://placehold.co/600x400?text=Converted+Image';
originalInfo.textContent='Format: None | Size: 0 KB';
convertedInfo.textContent='Format: None | Size: 0 KB';
fileInput.value='';convertBtn.disabled=true;resultArea.classList.remove('visible');qualitySlider.value=90;updateQualityValue();resizeWidth.value='';resizeHeight.value='';originalImage=null;convertedImage=null;
}

updateQualityValue();
});
</script>
</body>
</html>
